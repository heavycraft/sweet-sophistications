<template>
    <require from="../resources/elements/pageheader"></require>
    <div class="router-page au-animate">
        <page-header title.bind="routeTitle" body="Let's get started."></page-header>
        <section>

            <form class="container" role="form" submit.delegate="submit()" if.bind="formState === 0">
                <div class="row">
                    <div class="form-group col-12 col-md-6">
                        <label for="name_first">First Name</label>
                        <input type="text" name="name_first" id="name_first" class="form-control" placeholder=""  value.bind="contact.first_name & validate" required>
                    </div>
                    <div class="form-group col-12 col-md-6">
                        <label for="name_last">Last Name</label>
                        <input type="text" name="name_last" id="name_last" class="form-control" placeholder="" value.bind="contact.last_name & validate" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" name="email" id="email" class="form-control" placeholder="" value.bind="contact.email & validate" required>
                </div>
                <div class="form-group">
                    <label for="phone">Phone</label>
                    <input type="tel" name="phone" id="phone" class="form-control" placeholder="" aria-describedby="phoneHelp" value.bind="contact.phone & validate">
                    <small id="phoneHelp" class="text-muted">(555) 555-5555</small>
                </div>
                <div class="row">
                    <div class="form-group col-12 col-md-5">
                        <label for="location">Event Location</label>
                        <input type="location" name="location" id="location" class="form-control" placeholder="" aria-describedby="locationHelp" value.bind="contact.location & validate">
                        <small id="locationHelp" class="text-muted">Venue / City</small>
                    </div>
                    <div class="form-group col-12 col-md-5">
                        <label for="date">Event Date</label>
                        <input type="date" name="date" id="date" class="form-control" placeholder="" aria-describedby="dateHelp" value.bind="contact.date & validate">
                        <small id="dateHelp" class="text-muted">MM/DD/YYYY</small>
                    </div>
                    <div class="form-group col-12 col-md-2">
                        <label for="guests">Guest Count</label>
                        <input type="number" name="guests" id="guests" class="form-control" min="0" max="20000" value.bind="contact.guests & validate">
                    </div>
                </div>
                <div class="form-group">
                    <label for="message">Message</label>
                    <textarea class="form-control" name="message" id="message" rows="3" value.bind="contact.message & validate" required></textarea>
                </div>
                <div class="text-center">
                    <button type="submit" role="button" class="btn btn-outline-primary"
                            data-analytics-category="Contact" 
                            data-analytics-action="Send" 
                            data-analytics-label="Contact Details">Submit</button>
                </div>
            </form>

            <div class="container text-center" if.bind="formState === -1">
                <h2>Oops!  There was an issue sending your message.</h2>
                <p class="lead">Try again shortly or give us a call at ${$parent.business.phone} or email <a href="mailto:${$parent.business.email}">${$parent.business.email}</a>.</p>
            </div>

            <div class="container text-center" if.bind="formState === 1">
                <h2>Thank you!</h2>
                <p class="lead">Your message has been sent and we will get back to you shortly.</p>
                <p>If you need anything in the meantime give us a call at ${$parent.business.phone} or email <a href="mailto:${$parent.business.email}">${$parent.business.email}</a>.</p>
            </div>

        </section>
    </div>
</template>